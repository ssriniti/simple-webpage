<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <title>Simple Web Page</title>
    <link rel="stylesheet" href="./style.css" />
</head>

<body>
    <header>
        <div id="col-1">
            <h2 style="text-align:left">Query: {The Great Wall}</h2>
            <form name="sime_web_app" onsubmit="return calculateTotal()">
                <div id="q1">
                    <p style="font-size:20px; border:0.5px solid gray; width:500px;">1.How is the entity on the right panel relevant to the query?</p>
                    <input type="radio" id="excellent" name="q1_value" value="100">
                    <label for="excellent" style="font-size:20px">Excellent</label><br>
                    <input type="radio" id="good" name="q1_value" value="50">
                    <label for="good" style="font-size:20px">Good</label><br>
                    <input type="radio" id="poor" name="q1_value" value="0">
                    <label for="poor" style="font-size:20px">Poor</label>
                </div>
                <br>

                <div id="q2">
                    <p style="font-size:20px; border:0.5px solid gray; width:400px;">2.Which part of content are relevant to the query?</p>
                    <input type="checkbox" id="image" name="q2_value" value="50">
                    <label for="image" style="font-size:20px">Image</label><br>
                    <input type="checkbox" id="name" name="q2_value" value="50">
                    <label for="name" style="font-size:20px">Name</label><br>
                    <input type="checkbox" id="description" name="q2_value" value="25">
                    <label for="description" style="font-size:20px">Description</label><br><br>
                </div>
				<input type="submit"  style="color:white;position: absolute;right:120px;background-color:gray;padding-bottom:5px; border:0.5px solid gray; width:70px;" value="Submit">
				<input type="button" style="color:white;position: absolute; right:40px; background-color:gray;padding-bottom:5px;border:0.5px solid gray; width:70px;" value="Skip" onclick="window.location.reload();">
            </form>
        </div>
        <div id="col-2">
            <p class="groove">
                <h2 class="text-blue-inline">Name:</h2>
                <p class="inline" style="font-size:20px">The Great Wall</p>
            </p>
            <h2 class="text-blue">Description</h2>
            <p class="First" style="font-size:20px">The Great Wall (Chinese: 长城) is a 2016 Chinese-American fantasy action monster film directed by Zhang Yimou, with a screenplay by Carlo Bernard, Doug Miro and Tony Gilroy, from a story by Max Brooks, Edward Zwick and Marshall Herskovitz. It
                is an American and Chinese co-production starring Matt Damon, Jing Tian, Pedro Pascal, Willem Dafoe, and Andy Lau. The Great Wall is Zhang's first English-language film.[7]</p>
            <p class="Second" style="font-size:20px">Principal photography for the film began on March 30, 2015, in Qingdao, China, and it premiered in Beijing on December 6, 2016. It was released by China Film Group in China on December 16, 2016, and in the United States on February 17, 2017
                by Universal Pictures. The film received mixed reviews from critics, who said it "sacrifices great story for great action. "[8] Although it grossed $335 million worldwide, the film was still considered a box office bomb due to its high
                production and marketing costs, with losses as high as $75 million.</p>
        </div>
        <div id="col-3">
            <img src="./TheGreatWall.png">
        </div>
    </header>
</body>
<script>
    $(document).ready(function() {
        $("#q2").hide();
        $('input[type="radio"]').click(function() {
            if ($(this).attr('id') == 'excellent' || $(this).attr('id') == 'image' || $(this).attr('id') == 'name' || $(this).attr('id') == 'description') {
                $("#q2").show();
            } else {
                $("#q2").hide();
            }
        });
    });

    function calculateTotal() {
        var q1_checked = false;
        var q2_checked = false;
        var total = 0,
            i, j;
        var q1_values = document.getElementsByName('q1_value');
        var q2_values = document.getElementsByName('q2_value');

        for (i = 0; i < q1_values.length; i++) {
            if (q1_values[i].type == 'radio' && q1_values[i].checked) {
                q1_checked = true;
                total += Number(q1_values[i].value);
            }
        }

        if (!q1_checked) {
            alert("Please choose atleast one of the values!");
        }

        for (j = 0; j < q2_values.length; j++) {
            if (q2_values[j].type == 'checkbox' && q2_values[j].checked) {
                var q2_checked = true;
                total += Number(q2_values[j].value);
            }
        }
		if (q1_checked) {
			sendToServer(total);
		}
    }

    function sendToServer(total) {
        alert("Your request is successful! Sending sum: " + total + " to server.");
        console.log(total);
    }
</script>

</html>